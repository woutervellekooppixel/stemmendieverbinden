<!doctype html>
<html lang="nl">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="color-scheme" content="light" />
		<meta name="theme-color" content="#0a4d8c" />
		<title>Stemmen die verbinden — Aanmelden</title>
		<meta
			name="description"
			content="Meld je aan voor Stemmen die verbinden. Laat je gegevens achter via het formulier en je ontvangt een bevestiging per e-mail."
		/>

		<style>
			:root {
				--bg: #f3f5f7;
				--surface: #ffffff;
				--surface2: #f8fafc;
				--text: #111827;
				--muted: #4b5563;
				--border: #d1d5db;
				--border2: #e5e7eb;

				--primary: #0a4d8c;
				--primaryHover: #083f73;
				--accent: #00a37a;
				--danger: #b91c1c;
				--success: #166534;
				--focus: rgba(10, 77, 140, 0.25);

				--shadow: 0 8px 30px rgba(17, 24, 39, 0.08);
				--radius: 10px;
			}

			* {
				box-sizing: border-box;
			}

			html,
			body {
				height: 100%;
			}

			body {
				margin: 0;
				font-family:
					Arial,
					Helvetica,
					system-ui,
					-apple-system,
					Segoe UI,
					Roboto,
					sans-serif;
				color: var(--text);
				background: var(--bg);
			}

			a {
				color: var(--primary);
				text-decoration-thickness: 2px;
				text-underline-offset: 3px;
			}

			a:hover {
				color: var(--primaryHover);
			}

			.skip-link {
				position: absolute;
				left: 12px;
				top: 10px;
				padding: 10px 12px;
				background: #ffffff;
				border: 2px solid var(--primary);
				border-radius: 8px;
				transform: translateY(-200%);
				transition: transform 120ms ease;
				z-index: 1000;
			}

			.skip-link:focus {
				transform: translateY(0);
				outline: none;
			}

			.brandGroup {
				display: inline-flex;
				align-items: center;
				gap: 12px;
				min-height: 44px;
			}

			.brandLogo {
				height: 44px;
				width: auto;
				display: block;
				object-fit: contain;
				background: transparent;
				border-radius: 6px;
				padding: 0;
			}

			.brand {
				font-weight: 700;
				letter-spacing: 0.2px;
				font-size: 18px;
			}

			.wrap {
				min-height: 100%;
				padding: 26px 18px 42px;
			}

			.page {
				width: 100%;
				max-width: 1100px;
				margin: 0 auto;
				display: grid;
				gap: 18px;
			}

			.hero {
				padding: 0;
			}

			.heroInner {
				background: var(--surface);
				border: 1px solid var(--border2);
				border-radius: var(--radius);
				box-shadow: var(--shadow);
				padding: 18px 18px;
			}

			.masthead {
				display: flex;
				align-items: center;
				justify-content: space-between;
				gap: 14px;
				flex-wrap: wrap;
				padding-bottom: 12px;
				margin-bottom: 12px;
				border-bottom: 1px solid var(--border2);
			}

			.masthead small {
				color: var(--muted);
				font-size: 13px;
			}

			.badge {
				display: inline-flex;
				align-items: center;
				gap: 10px;
				padding: 6px 10px;
				border-radius: 999px;
				background: var(--surface2);
				border: 1px solid var(--border);
				color: var(--muted);
				font-size: 13px;
			}

			.dot {
				width: 10px;
				height: 10px;
				border-radius: 999px;
				background: var(--accent);
			}

			h1 {
				margin: 10px 0 6px;
				font-size: clamp(26px, 3.8vw, 40px);
				line-height: 1.12;
				letter-spacing: -0.02em;
			}

			.subtitle {
				margin: 0;
				color: var(--muted);
				font-size: 16px;
				line-height: 1.55;
				max-width: none;
				text-wrap: balance;
			}

			.grid {
				display: grid;
				grid-template-columns: 1fr;
				gap: 18px;
			}

			.card {
				background: var(--surface);
				border: 1px solid var(--border2);
				border-radius: var(--radius);
				box-shadow: var(--shadow);
				overflow: hidden;
			}

			.cardHeader {
				padding: 16px 18px;
				border-bottom: 1px solid var(--border2);
				display: flex;
				align-items: baseline;
				justify-content: space-between;
				gap: 12px;
				flex-wrap: wrap;
			}

			.cardHeader h2 {
				margin: 0;
				font-size: 18px;
			}

			.cardHeader p {
				margin: 0;
				color: var(--muted);
				font-size: 13px;
			}

			.cardBody {
				padding: 16px 18px 18px;
			}

			.info {
				display: grid;
				gap: 10px;
				padding: 12px 12px;
				border-radius: 8px;
				background: var(--surface2);
				border: 1px solid var(--border2);
				margin-bottom: 14px;
				border-left: 5px solid var(--accent);
			}

			.info strong {
				font-weight: 700;
			}

			.info p {
				margin: 0;
				color: var(--muted);
				line-height: 1.5;
				font-size: 14px;
			}

			/* Mailchimp embed styling */
			#mc_embed_shell {
				width: 100%;
			}

			#mc_embed_signup {
				width: 100%;
			}

			#mc_embed_signup form {
				margin: 0;
			}

			#mc_embed_signup_scroll {
				display: grid;
				gap: 12px;
			}

			.indicates-required {
				color: var(--muted);
				font-size: 13px;
			}

			.asterisk {
				color: var(--danger);
			}

			.mc-field-group {
				display: grid;
				gap: 6px;
			}

			.mc-field-group label {
				font-size: 14px;
				color: var(--text);
			}

			.mc-field-group input,
			.mc-field-group select {
				width: 100%;
				border-radius: 8px;
				border: 1px solid var(--border);
				background: #ffffff;
				color: var(--text);
				padding: 11px 12px;
				font-size: 15px;
				outline: none;
				transition:
					border-color 120ms ease,
					box-shadow 120ms ease,
					background 120ms ease;
			}

			.mc-field-group select {
				padding-right: 34px;
			}

			.mc-field-group input:focus,
			.mc-field-group select:focus {
				border-color: var(--primary);
				box-shadow: 0 0 0 4px var(--focus);
			}

			#mce-responses {
				margin-top: 8px;
			}

			#mce-error-response,
			#mce-success-response {
				border-radius: 8px;
				padding: 12px 12px;
				border: 1px solid var(--border);
				background: var(--surface2);
				color: var(--text);
				font-size: 14px;
				line-height: 1.5;
			}

			#mce-error-response {
				border-left: 5px solid var(--danger);
			}

			#mce-success-response {
				border-left: 5px solid var(--success);
			}

			.clear {
				display: flex;
				align-items: center;
				justify-content: flex-start;
			}

			input.button,
			#mc-embedded-subscribe {
				appearance: none;
				border: 0;
				cursor: pointer;
				padding: 11px 16px;
				font-weight: 700;
				font-size: 15px;
				border-radius: 8px;
				color: #ffffff;
				background: var(--primary);
				box-shadow: 0 2px 0 rgba(0, 0, 0, 0.12);
				transition:
					transform 120ms ease,
					background 120ms ease,
					box-shadow 120ms ease;
			}

			input.button:hover,
			#mc-embedded-subscribe:hover {
				background: var(--primaryHover);
				transform: translateY(-1px);
				box-shadow: 0 6px 18px rgba(17, 24, 39, 0.12);
			}

			input.button:focus,
			#mc-embedded-subscribe:focus {
				outline: none;
				box-shadow: 0 0 0 4px var(--focus);
			}

			#mc-embedded-subscribe[disabled] {
				opacity: 0.65;
				cursor: not-allowed;
				transform: none;
				box-shadow: 0 2px 0 rgba(0, 0, 0, 0.12);
			}

			.footer {
				padding: 0 18px 18px;
				color: var(--muted);
				font-size: 13px;
				line-height: 1.5;
			}

			.footer p {
				margin: 0;
			}

			.siteFooter {
				max-width: 1100px;
				margin: 18px auto 0;
				padding: 0 18px;
				color: var(--muted);
				font-size: 13px;
				line-height: 1.5;
			}

			@media (min-width: 920px) {
				.subtitle {
					white-space: nowrap;
				}

				.grid {
					grid-template-columns: 1.2fr 0.8fr;
					align-items: start;
				}
			}
		</style>
	</head>

	<body>
		<a class="skip-link" href="#content">Ga naar hoofdinhoud</a>
		<div class="wrap">
			<main id="content" class="page" role="main">
				<header class="hero">
					<div class="heroInner">
						<div class="masthead">
							<div class="brandGroup">
								<img
									class="brandLogo"
									src="assets/denhaag-logo.png"
									alt="Gemeente Den Haag"
									onerror="this.style.display='none'"
								/>
								<div class="brand">Stemmen die verbinden</div>
							</div>
							<small>Aanmelden</small>
						</div>
						<span class="badge"><span class="dot" aria-hidden="true"></span> Aanmelden</span>
						<h1>Stemmen die verbinden</h1>
						<p class="subtitle">
							Leuk dat je erbij wilt zijn. Vul hieronder je gegevens in—je ontvangt daarna een bevestiging per e-mail.
						</p>
					</div>
				</header>

				<section class="grid">
					<section class="card" aria-label="Aanmeldformulier">
						<div class="cardHeader">
							<h2>Inschrijven</h2>
							<p><span class="asterisk">*</span> = verplicht</p>
						</div>
						<div class="cardBody">
							<!-- Mailchimp form -->
							<div id="mc_embed_shell">
								<div id="mc_embed_signup">
									<form
										action="#"
										method="post"
										id="mc-embedded-subscribe-form"
										name="mc-embedded-subscribe-form"
										class="validate"
										data-endpoint="/api/subscribe"
									>
										<div id="mc_embed_signup_scroll">
											<div class="mc-field-group">
												<label for="mce-EMAIL">E-mailadres <span class="asterisk">*</span></label>
												<input
													type="email"
													name="EMAIL"
													class="required email"
													id="mce-EMAIL"
													required=""
													value=""
													autocomplete="email"
												/>
											</div>

											<div class="mc-field-group">
												<label for="mce-FNAME">Voornaam <span class="asterisk">*</span></label>
												<input
													type="text"
													name="FNAME"
													class="required text"
													id="mce-FNAME"
													required=""
													value=""
													autocomplete="given-name"
												/>
											</div>

											<div class="mc-field-group">
												<label for="mce-LNAME">Achternaam <span class="asterisk">*</span></label>
												<input
													type="text"
													name="LNAME"
													class="required text"
													id="mce-LNAME"
													required=""
													value=""
													autocomplete="family-name"
												/>
											</div>

											<div class="mc-field-group">
												<label for="mce-ORGANISATI">Organisatie</label>
												<input type="text" name="ORGANISATI" class="text" id="mce-ORGANISATI" value="" />
											</div>

											<div class="mc-field-group">
												<label for="mce-LEEFTIJD">Leeftijd <span class="asterisk">*</span></label>
												<select name="LEEFTIJD" class="required" id="mce-LEEFTIJD" required="">
													<option value=""></option>
													<option value="&lt; 24">&lt; 24</option>
													<option value="25-30">25-30</option>
													<option value="31-45">31-45</option>
													<option value="46-60">46-60</option>
													<option value="60 &gt;">60 &gt;</option>
													<option value="Wil ik niet zeggen">Wil ik niet zeggen</option>
												</select>
											</div>

											<div class="mc-field-group">
												<label for="mce-MMERGE7">Via wie/wat heb je van deze bijeenkomst gehoord?</label>
												<input type="text" name="MMERGE7" class="text" id="mce-MMERGE7" value="" />
											</div>

											<div class="mc-field-group">
												<label for="mce-MMERGE8">Heb je iets nodig om goed mee te kunnen doen?</label>
												<input type="text" name="MMERGE8" class="text" id="mce-MMERGE8" value="" />
											</div>

											<div id="mce-responses" class="clear">
												<div class="response" id="mce-error-response" style="display: none;"></div>
												<div class="response" id="mce-success-response" style="display: none;"></div>
											</div>

											<div aria-hidden="true" style="position: absolute; left: -5000px;">
												<input
													type="text"
													name="b_c9c512e493e7843d1aaf9a471_2519fc7af4"
													tabindex="-1"
													value=""
												/>
											</div>

											<div class="clear">
												<input type="submit" name="subscribe" id="mc-embedded-subscribe" class="button" value="Inschrijven" />
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>

						<div class="footer"></div>
					</section>

					<aside class="card" aria-label="Goed om te weten">
						<div class="cardHeader">
							<h2>Goed om te weten</h2>
							<p>Praktisch</p>
						</div>
						<div class="cardBody">
							<div class="info">
								<p><strong>Bevestiging:</strong> na inschrijving ontvang je een e-mail.</p>
								<p><strong>Privacy:</strong> je gegevens worden alleen gebruikt voor deze aanmelding.</p>
							</div>

							<div class="info">
								<p>
									<strong>Later finetunen:</strong> we kunnen hier eenvoudig datum/locatie, logo, kleuren en extra tekst aan toevoegen.
								</p>
							</div>
						</div>
						<div class="footer">
							<p>Deze pagina is een startversie en kan later verder worden opgemaakt.</p>
						</div>
					</aside>
				</section>
			</main>
		</div>

		<script>
			(() => {
				const form = document.getElementById("mc-embedded-subscribe-form");
				if (!form) return;

				const submitButton = document.getElementById("mc-embedded-subscribe");
				const errorEl = document.getElementById("mce-error-response");
				const successEl = document.getElementById("mce-success-response");

				const setResponse = (type, message) => {
					if (errorEl) {
						errorEl.style.display = type === "error" ? "block" : "none";
						errorEl.textContent = type === "error" ? message : "";
					}
					if (successEl) {
						successEl.style.display = type === "success" ? "block" : "none";
						successEl.textContent = type === "success" ? message : "";
					}
				};

				form.addEventListener("submit", async (event) => {
					event.preventDefault();

					setResponse("error", "");
					setResponse("success", "");

					if (!form.reportValidity()) return;

					const endpoint = form.getAttribute("data-endpoint") || "/api/subscribe";
					const formData = new FormData(form);
					const payload = Object.fromEntries(formData.entries());

					if (submitButton) {
						submitButton.setAttribute("disabled", "");
						submitButton.value = "Bezig met inschrijven…";
					}

					try {
						const response = await fetch(endpoint, {
							method: "POST",
							headers: { "Content-Type": "application/json" },
							body: JSON.stringify(payload),
						});

						const data = await response.json().catch(() => ({}));
						if (!response.ok) {
							throw new Error(data?.message || "Er ging iets mis. Probeer het later opnieuw.");
						}

						setResponse(
							"success",
							"Gelukt. Check je e-mail voor de bevestiging van je inschrijving."
						);
						form.reset();
					} catch (error) {
						setResponse(
							"error",
							error instanceof Error ? error.message : "Er ging iets mis. Probeer het later opnieuw."
						);
					} finally {
						if (submitButton) {
							submitButton.removeAttribute("disabled");
							submitButton.value = "Inschrijven";
						}
					}
				});
			})();
		</script>
	</body>
</html>
